$preference: #{"." + getGlobal("CONFIG.CLASS.preference")};

body > * {
    display: none; // to hide everything except the form in iOS Safari
}

form##{getGlobal("CONFIG.USERSCRIPT_ID")} {
    width: 640px;
    margin: 32px auto;
    display: block; // to not hide the form

    img {
        max-width: 100%;
    }

    #{$preference}, aside, ##{getGlobal("CONFIG.ID.editingTools")} {
        transition-property: opacity;
        transition-duration: 250ms;
    }

    #{$preference} {
        opacity: 0.75;
    }

    #{$preference}:hover, #{$preference}:focus {
        opacity: 1;
    }

    .#{getGlobal("SITE.CLASS.fieldset")} {
        padding: 8px 16px;

        > legend {
            padding: 0 4px;
        }
    }

    .#{getGlobal("CONFIG.CLASS.radioButtonPreference")} {
        display: inline-block;
        width: -webkit-fit-content;
        width: -moz-fit-content;
        width: fit-content;

        label {
            margin-left: 16px;
        }

        > span:first-child::after {
            content: ":";
        }
    }

    $inline: #{getGlobal("CONFIG.CLASS.inlinePreference")};
    .#{$inline} {
        display: inline-block;
    }
    .#{$inline} + .#{$inline} label::before {
        content: "\a0";
    }

    input {
        vertical-align: middle;
    }

    label {
        padding: 4px 0;
    }

    input[type="checkbox"], input[type="radio"] {
        margin: 0 5px 0 0;
    }

    input[type="text"], input[type="number"], input[type="time"] {
        margin-left: 0.33em;
    }

    // Description
    aside {
        display: inline-block;
        margin-left: 12px;
        opacity: 0;
        pointer-events: none;
    }

    #{$preference}:hover > aside, #{$preference}:focus > aside {
        opacity: 1;
        transition-duration: 500ms;
    }

    ##{getGlobal("CONFIG.ID.editingTools")} {
        height: getGlobal("CONFIG.EDITING_TOOLS_HEIGHT");
    }

    .#{getGlobal("CONFIG.CLASS.disabled")} {
        opacity: 0.25;
        pointer-events: none;
    }

    footer {
        text-align: center;
        opacity: 0.8;
    }
}
